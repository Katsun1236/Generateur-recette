<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faction R4TIO - Histeria</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="La faction R4TIO, l'élite du serveur Histeria. Rejoignez-nous pour dominer le jeu, du PvP aux pillages. Découvrez nos membres, nos exploits et comment nous recrutons.">
    <meta name="keywords" content="Histeria, Faction, R4TIO, PvP, Minecraft, Recrutement, Jeu">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Page-specific Styles -->
    <style>
        /* -- Hero Section -- */
        .hero {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: calc(100vh - var(--navbar-height)); /* Using variable from style.css */
            padding: 20px;
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('images/pictures/Fond.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .hero .logo {
            max-width: 200px;
            margin-bottom: 20px;
            animation: pulse 3s infinite ease-in-out;
        }
        .hero .faction-title {
            font-family: var(--font-display);
            font-size: clamp(3rem, 15vw, 7rem); /* Responsive font size */
            color: var(--primary-red);
            text-transform: uppercase;
            margin: 0;
            line-height: 1;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.6);
        }
        .hero .description {
            font-size: clamp(1rem, 4vw, 1.3rem);
            max-width: 600px;
            margin: 20px auto 0 auto;
            color: var(--text-medium);
            line-height: 1.6;
        }

        /* -- Content Sections -- */
        .content-section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .content-section:not(:first-of-type) {
            border-top: 2px solid var(--card-bg-color);
        }
        .content-section h2 {
            font-family: var(--font-display);
            font-size: 3rem;
            color: var(--primary-red);
            text-align: center;
            margin-bottom: 50px;
            text-transform: uppercase;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        /* -- Cards (for members, alliances, etc.) -- */
        .card {
            background-color: var(--card-bg-color);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            border: 1px solid #444;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        .card .card-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-red);
            margin: 0 auto 15px auto;
        }
        .card h3 {
            margin: 10px 0 5px 0;
            font-size: 1.5rem;
            color: var(--text-light);
        }
        .card p {
            color: var(--text-medium);
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 20px;
        }
        .card .member-role {
            font-weight: 700;
            text-transform: uppercase;
        }
        .card .ally-discord-button {
            background-color: var(--discord-blue);
            color: var(--text-light);
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 5px;
            font-weight: 700;
            text-transform: uppercase;
            transition: background-color 0.3s ease;
            margin-top: auto; /* Pushes button to the bottom */
        }
        .card .ally-discord-button:hover {
            background-color: #4752C4;
        }

        /* -- Footer -- */
        .site-footer {
            text-align: center;
            padding: 2rem;
            background-color: var(--card-bg-color);
            color: #888;
            font-size: 0.9rem;
            margin-top: 40px;
        }

        /* -- Animations -- */
        @keyframes pulse { 
            0%, 100% { transform: scale(1); opacity: 0.9; } 
            50% { transform: scale(1.05); opacity: 1; } 
        }

        /* -- Responsive Navbar (Simple version) -- */
        /* For a better experience, a JS-based hamburger menu would be the next step */
        @media (max-width: 768px) {
            .navbar {
                --navbar-height: auto; /* Allow navbar to grow */
                flex-direction: column;
                padding: 15px;
                gap: 15px;
            }
            body {
                padding-top: 180px; /* Adjust based on new navbar height */
            }
            .nav-auth {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html"><img src="images/pictures/Logo.png" alt="Logo R4TIO" class="nav-logo"></a>
        </div>
        <div class="nav-center">
            <!-- Added rel attribute for security on external links -->
            <a href="https://discord.gg/UFVCDc4mkU" target="_blank" rel="noopener noreferrer">Discord</a>
            <a href="pages/recrutement.html">Recrutement</a>
            <a href="pages/market.html">Marché</a>
        </div>
        <div class="nav-auth">
            <div id="auth-buttons">
                <a href="pages/login.html">Connexion</a>
                <a href="pages/register.html" class="register-btn">Inscription</a>
            </div>
            <a href="pages/profile.html" id="profile-link" style="display: none;">
                <img id="profile-pic" src="" alt="Photo de profil">
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <img src="images/pictures/Logo.png" alt="Grand logo de la faction R4TIO" class="logo">
        <h1 class="faction-title">R4TIO</h1>
        <p class="description">
            La faction dominante du serveur Histeria. La victoire est notre seule option. Rejoignez l'élite, rejoignez R4TIO.
        </p>
    </header>

    <!-- Main Content -->
    <main>
        <section id="description" class="content-section">
            <h2>Notre Histoire</h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 30px auto; line-height: 1.7;">
                Fondée sur les principes de force, de stratégie et de loyauté, la faction R4TIO s'est rapidement imposée comme une puissance incontournable sur Histeria. Notre objectif n'est pas seulement de gagner, mais de dominer chaque aspect du jeu, du PvP aux pillages. Chaque membre est un pilier de notre forteresse.
            </p>
        </section>

        <section id="membres" class="content-section">
            <h2>Nos Membres</h2>
            <div class="grid-container" id="members-grid">
                <!-- Member cards will be generated by JavaScript here -->
            </div>
        </section>

        <section id="alliances" class="content-section">
            <h2>Nos Alliances</h2>
            <div class="grid-container">
                <div class="card">
                    <img class="card-avatar" src="https://cdn.discordapp.com/icons/1395758234379358299/b63df920c2970eacc38280515ad0bb06.png?size=4096" alt="Logo Alliance Vox">
                    <h3>Vox</h3>
                    <p>Une alliance fondée sur la confiance et la puissance militaire.</p>
                    <a href="#" class="ally-discord-button">Rejoindre leur Discord</a>
                </div>
            </div>
        </section>

        <section id="exploits" class="content-section">
            <h2>Nos Exploits</h2>
            <div class="grid-container">
                <div class="card">
                    <h3>Pillage de base Claim</h3>
                    <p>Coordination parfaite pour un assaut qui a marqué les esprits et rempli nos coffres.</p>
                </div>
                <div class="card">
                    <h3>Top 1 Faction</h3>
                    <p>Nous avons atteint et maintenu la première place du classement pendant plusieurs semaines consécutives.</p>
                </div>
                <div class="card">
                    <h3>Défense Héroïque</h3>
                    <p>Repoussé un assaut de 3 factions coalisées contre notre base principale.</p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="site-footer">
        <p>&copy; 2024 Faction R4TIO. Tous droits réservés.</p>
        <p>Développé par Katsun1246</p>
    </footer>

    <!-- Global App Logic -->
    <script type="module" src="js/main.js"></script>

    <!-- Page-specific Logic for Members -->
    <script type="module">
        import { members } from './js/members-config.js';

        const membersGrid = document.getElementById('members-grid');

        // Check if the grid container exists on the page
        if (membersGrid) {
            members.forEach(member => {
                const card = document.createElement('div');
                card.className = 'card';

                // **BUG FIX & ENHANCEMENT IS HERE**
                // We now use `member.role.name` to get the role's text.
                card.innerHTML = `
                    <img class="card-avatar" src="${member.avatar}" alt="Avatar de ${member.name}">
                    <h3>${member.name}</h3>
                    <p class="member-role" style="color: ${member.role.color};">${member.role.name}</p>
                `;
                
                membersGrid.appendChild(card);
            });
        } else {
            console.warn("Element with ID 'members-grid' not found.");
        }
    </script>

</body>
</html>