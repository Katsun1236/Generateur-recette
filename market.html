<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marché - Faction R4TIO</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --main-bg-color: #1a1a1a;
            --primary-red: #e74c3c;
            --primary-red-dark: #c0392b;
            --text-light: #f5f5f5;
            --text-medium: #cccccc;
            --card-bg-color: #2c2c2c;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--main-bg-color);
            background-image: url('https://www.transparenttextures.com/patterns/dark-denim-3.png');
            color: var(--text-light);
            margin: 0;
            padding-top: 80px;
        }
        .navbar {
            background-color: rgba(20, 20, 20, 0.9);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 30px;
            z-index: 1000;
            border-bottom: 1px solid var(--card-bg-color);
            box-sizing: border-box;
        }
        .nav-left { flex: 1 0 0; }
        .nav-logo { height: 50px; }
        .nav-center { flex-grow: 1; text-align: center; }
        .nav-center a { color: var(--text-medium); text-decoration: none; margin: 0 15px; font-weight: 700; font-size: 1rem; text-transform: uppercase; transition: color 0.3s ease; }
        .nav-center a:hover { color: var(--primary-red); }
        .nav-auth { display: flex; align-items: center; flex: 1 0 0; justify-content: flex-end; }
        #profile-link { display: none; }
        #profile-pic { height: 45px; width: 45px; border-radius: 50%; border: 2px solid var(--primary-red); object-fit: cover; cursor: pointer; transition: transform 0.2s; }
        #profile-pic:hover { transform: scale(1.1); }
        
        .market-container {
            width: 100%;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            box-sizing: border-box;
        }
        .market-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .market-header h1 {
            font-family: 'Anton', sans-serif;
            font-size: 3.5rem;
            color: var(--primary-red);
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }
        .market-header p {
            color: var(--text-medium);
            font-size: 1.1rem;
        }
        
        .category-section {
            margin-bottom: 3rem;
        }
        .category-title {
            font-family: 'Anton', sans-serif;
            font-size: 2.5rem;
            color: var(--text-light);
            border-bottom: 3px solid var(--primary-red);
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        .item-card {
            background-color: var(--card-bg-color);
            border-radius: 10px;
            border: 1px solid #444;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }
        .item-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }
        .item-image-container {
            width: 100%;
            padding-top: 100%; /* Aspect ratio 1:1 */
            position: relative;
            background-color: #333;
        }
        .item-card img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 1rem;
            box-sizing: border-box;
        }
        .item-info {
            padding: 1rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .item-info h3 {
            font-size: 1.2rem;
            margin: 0 0 0.75rem 0;
            color: var(--text-light);
            font-weight: normal;
        }
        .price-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .original-price {
            text-decoration: line-through;
            color: #777;
            font-size: 0.9rem;
        }
        .new-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-red);
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html"><img src="Logo.png" alt="Logo R4TIO" class="nav-logo"></a>
        </div>
        <div class="nav-center">
            <a href="https://discord.gg/UFVCDc4mkU" target="_blank">Discord</a>
            <a href="recrutement.html">Recrutement</a>
            <a href="market.html">Marché</a>
        </div>
        <div class="nav-auth">
            <a href="profile.html" id="profile-link">
                <img id="profile-pic" src="" alt="Photo de profil">
            </a>
        </div>
    </nav>

    <div class="market-container">
        <div class="market-header">
            <h1>Marché de la Faction</h1>
            <p>Achetez des objets directement auprès de la faction R4TIO à prix réduit.</p>
        </div>

        <div id="market-sections">
            <!-- Les sections et les objets seront générés ici par le script -->
        </div>
    </div>

    <script type="module">
        import { auth, db } from './firebase-config.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
        import { doc, getDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";

        const profileLink = document.getElementById('profile-link');
        const profilePic = document.getElementById('profile-pic');

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                profileLink.style.display = 'block';
                const userRef = doc(db, 'users', user.uid);
                const docSnap = await getDoc(userRef);
                if (docSnap.exists()) {
                    const currentUserData = docSnap.data();
                    const photo = currentUserData.photoURL || `https://corsproxy.io/?https://mc-heads.net/avatar/${currentUserData.username}/45`;
                    profilePic.src = photo;
                }
            } else {
                profileLink.style.display = 'none';
            }
        });

        const marketData = {
          "Blocs": [
            {id: "DIRT", buyPrice: 5}, {id: "MYCELIUM", buyPrice: 5}, {id: "COARSE_DIRT", buyPrice: 5}, {id: "PODZOL", buyPrice: 5}, {id: "SAND", buyPrice: 15}, {id: "SANDSTONE", buyPrice: 15}, {id: "CUT_SANDSTONE", buyPrice: 15}, {id: "RED_SAND", buyPrice: 15}, {id: "RED_SANDSTONE", buyPrice: 15}, {id: "CUT_RED_SANDSTONE", buyPrice: 15}, {id: "STONE", buyPrice: 15}, {id: "STONE_BRICKS", buyPrice: 15}, {id: "MOSSY_STONE_BRICKS", buyPrice: 15}, {id: "CRACKED_STONE_BRICKS", buyPrice: 15}, {id: "CHISELED_STONE_BRICKS", buyPrice: 15}, {id: "COBBLESTONE", buyPrice: 15}, {id: "MOSSY_COBBLESTONE", buyPrice: 15}, {id: "GRAVEL", buyPrice: 15}, {id: "GRANITE", buyPrice: 15}, {id: "DIORITE", buyPrice: 15}, {id: "ANDESITE", buyPrice: 15}, {id: "POLISHED_GRANITE", buyPrice: 15}, {id: "POLISHED_DIORITE", buyPrice: 15}, {id: "POLISHED_ANDESITE", buyPrice: 15}, {id: "OBSIDIAN", buyPrice: 500}, {id: "OAK_PLANKS", buyPrice: 15}, {id: "SPRUCE_PLANKS", buyPrice: 15}, {id: "BIRCH_PLANKS", buyPrice: 15}, {id: "ACACIA_PLANKS", buyPrice: 15}, {id: "JUNGLE_PLANKS", buyPrice: 15}, {id: "DARK_OAK_PLANKS", buyPrice: 15}, {id: "SLIME_BLOCK", buyPrice: 15}
          ],
          "Items": [
            {id: "ARROW", buyPrice: 10}, {id: "TORCH", buyPrice: 3}, {id: "ENDER_PEARL", buyPrice: 1500}, {id: "END_ROD", buyPrice: 175}, {id: "SPLASH_POTION", buyPrice: 1500, name: "Strong Healing Splash Potion"}, {id: "CRAFTING_TABLE", buyPrice: 100}, {id: "ENCHANTING_TABLE", buyPrice: 1000}, {id: "ANVIL", buyPrice: 1000}, {id: "ENDER_CHEST", buyPrice: 800}, {id: "CHEST", buyPrice: 100}, {id: "RED_BED", buyPrice: 100, name: "Bed"}, {id: "FURNACE", buyPrice: 100}, {id: "JUKEBOX", buyPrice: 1000}
          ],
          "Minerais": [
            {id: "CLAY_BALL", buyPrice: 15}, {id: "FLINT", buyPrice: 15}, {id: "COAL", buyPrice: 200}, {id: "IRON_INGOT", buyPrice: 200}, {id: "GOLD_INGOT", buyPrice: 500}, {id: "REDSTONE", buyPrice: 50, name: "Redstone Dust"}, {id: "DIAMOND", buyPrice: 500}, {id: "COAL_ORE", buyPrice: 200}, {id: "IRON_ORE", buyPrice: 200}, {id: "GOLD_ORE", buyPrice: 500}, {id: "REDSTONE_ORE", buyPrice: 450}, {id: "DIAMOND_ORE", buyPrice: 1000}, {id: "HISTERITE_ORE", buyPrice: 10000}, {id: "RANDOM_ORE", buyPrice: 20000}, {id: "COAL_BLOCK", buyPrice: 1800}, {id: "IRON_BLOCK", buyPrice: 1800}, {id: "GOLD_BLOCK", buyPrice: 4500}, {id: "REDSTONE_BLOCK", buyPrice: 450}, {id: "DIAMOND_BLOCK", buyPrice: 9000}, {id: "HISTERITE_BLOCK", buyPrice: 90000}
          ],
          "Nature": [
            {id: "ACACIA_WOOD", buyPrice: 50}, {id: "JUNGLE_WOOD", buyPrice: 50}, {id: "BIRCH_WOOD", buyPrice: 50}, {id: "OAK_WOOD", buyPrice: 50}, {id: "DARK_OAK_WOOD", buyPrice: 50}, {id: "SPRUCE_WOOD", buyPrice: 50}, {id: "COOKED_BEEF", buyPrice: 50, name: "Steak"}, {id: "CACTUS", buyPrice: 500}, {id: "ACACIA_LOG", buyPrice: 50}, {id: "JUNGLE_LOG", buyPrice: 50}, {id: "BIRCH_LOG", buyPrice: 50}, {id: "OAK_LOG", buyPrice: 50}, {id: "DARK_OAK_LOG", buyPrice: 50}, {id: "SPRUCE_LOG", buyPrice: 50}, {id: "PUMPKIN", buyPrice: 225}, {id: "MELON_SLICE", buyPrice: 225, name: "Melon"}, {id: "STRIPPED_ACACIA_LOG", buyPrice: 50}, {id: "STRIPPED_JUNGLE_LOG", buyPrice: 50}, {id: "STRIPPED_BIRCH_LOG", buyPrice: 50}, {id: "STRIPPED_OAK_LOG", buyPrice: 50}, {id: "STRIPPED_DARK_OAK_LOG", buyPrice: 50}, {id: "STRIPPED_SPRUCE_LOG", buyPrice: 50}, {id: "POTATO", buyPrice: 50}, {id: "BEETROOT", buyPrice: 50}, {id: "ACACIA_SAPLING", buyPrice: 100}, {id: "JUNGLE_SAPLING", buyPrice: 100}, {id: "BIRCH_SAPLING", buyPrice: 100}, {id: "OAK_SAPLING", buyPrice: 100}, {id: "DARK_OAK_SAPLING", buyPrice: 100}, {id: "SPRUCE_SAPLING", buyPrice: 100}, {id: "CARROT", buyPrice: 50}, {id: "WHEAT", buyPrice: 50}, {id: "ACACIA_LEAVES", buyPrice: 20}, {id: "JUNGLE_LEAVES", buyPrice: 20}, {id: "BIRCH_LEAVES", buyPrice: 20}, {id: "OAK_LEAVES", buyPrice: 20}, {id: "DARK_OAK_LEAVES", buyPrice: 20}, {id: "SPRUCE_LEAVES", buyPrice: 20}, {id: "WHEAT_SEEDS", buyPrice: 10, name: "Seeds"}, {id: "APPLE", buyPrice: 100}, {id: "BONE_MEAL", buyPrice: 100}, {id: "GRASS_BLOCK", buyPrice: 200, name: "Grass"}, {id: "VINE", buyPrice: 200}, {id: "SUGAR_CANE", buyPrice: 200}, {id: "RED_MUSHROOM", buyPrice: 200}, {id: "BROWN_MUSHROOM", buyPrice: 200}, {id: "RED_MUSHROOM_BLOCK", buyPrice: 1800}, {id: "BROWN_MUSHROOM_BLOCK", buyPrice: 1800}, {id: "CAKE", buyPrice: 100}, {id: "GRASS", buyPrice: 100, name: "Tall Grass"}, {id: "FERN", buyPrice: 100}, {id: "LARGE_FERN", buyPrice: 100}, {id: "DEAD_BUSH", buyPrice: 100}, {id: "CARVED_PUMPKIN", buyPrice: 100}, {id: "MUSHROOM_STEM", buyPrice: 100}, {id: "DANDELION", buyPrice: 100}, {id: "POPPY", buyPrice: 100}, {id: "BLUE_ORCHID", buyPrice: 100}, {id: "ALLIUM", buyPrice: 100}, {id: "AZURE_BLUET", buyPrice: 100}, {id: "RED_TULIP", buyPrice: 100}, {id: "ORANGE_TULIP", buyPrice: 100}, {id: "WHITE_TULIP", buyPrice: 100}, {id: "PINK_TULIP", buyPrice: 100}, {id: "OXEYE_DAISY", buyPrice: 100}, {id: "CORNFLOWER", buyPrice: 100}, {id: "LILAC", buyPrice: 100}, {id: "SUNFLOWER", buyPrice: 100}, {id: "ROSE_BUSH", buyPrice: 100}, {id: "PEONY", buyPrice: 100}
          ],
          "Objets Spéciaux": [
            {id: "CHEST_FINDER", buyPrice: 15000}, {id: "FERTILIZED_DIRT", buyPrice: 200000}, {id: "HISTERITE_APPLE", buyPrice: 200000}, {id: "OBSIDIAN_BREAKER", buyPrice: 10000}, {id: "TNT", buyPrice: 600, name: "Dynamite"}, {id: "SPONGE", buyPrice: 1000, name: "Sponger"}, {id: "CHEST_EXPLORER", buyPrice: 10000}, {id: "ELYTRA", buyPrice: 20000, name: "Hang Glider"}
          ],
          "Décoration": [
            {id: "WHITE_TERRACOTTA", buyPrice: 50}, {id: "ORANGE_TERRACOTTA", buyPrice: 50}, {id: "MAGENTA_TERRACOTTA", buyPrice: 50}, {id: "LIGHT_BLUE_TERRACOTTA", buyPrice: 50}, {id: "YELLOW_TERRACOTTA", buyPrice: 50}, {id: "LIME_TERRACOTTA", buyPrice: 50}, {id: "PINK_TERRACOTTA", buyPrice: 50}, {id: "GRAY_TERRACOTTA", buyPrice: 50}, {id: "LIGHT_GRAY_TERRACOTTA", buyPrice: 50}, {id: "PURPLE_TERRACOTTA", buyPrice: 50}, {id: "BLUE_TERRACOTTA", buyPrice: 50}, {id: "BROWN_TERRACOTTA", buyPrice: 50}, {id: "GREEN_TERRACOTTA", buyPrice: 50}, {id: "RED_TERRACOTTA", buyPrice: 50}, {id: "BLACK_TERRACOTTA", buyPrice: 50}, {id: "WHITE_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "ORANGE_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "MAGENTA_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "LIGHT_BLUE_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "YELLOW_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "LIME_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "PINK_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "GRAY_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "LIGHT_GRAY_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "PURPLE_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "BLUE_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "BROWN_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "GREEN_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "RED_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "BLACK_GLAZED_TERRACOTTA", buyPrice: 50}, {id: "WHITE_CONCRETE", buyPrice: 50}, {id: "ORANGE_CONCRETE", buyPrice: 50}, {id: "MAGENTA_CONCRETE", buyPrice: 50}, {id: "LIGHT_BLUE_CONCRETE", buyPrice: 50}, {id: "YELLOW_CONCRETE", buyPrice: 50}, {id: "LIME_CONCRETE", buyPrice: 50}, {id: "PINK_CONCRETE", buyPrice: 50}, {id: "GRAY_CONCRETE", buyPrice: 50}, {id: "LIGHT_GRAY_CONCRETE", buyPrice: 50}, {id: "CYAN_CONCRETE", buyPrice: 50}, {id: "PURPLE_CONCRETE", buyPrice: 50}, {id: "BLUE_CONCRETE", buyPrice: 50}, {id: "BROWN_CONCRETE", buyPrice: 50}, {id: "GREEN_CONCRETE", buyPrice: 50}, {id: "RED_CONCRETE", buyPrice: 50}, {id: "BLACK_CONCRETE", buyPrice: 50}, {id: "WHITE_CONCRETE_POWDER", buyPrice: 50}, {id: "ORANGE_CONCRETE_POWDER", buyPrice: 50}, {id: "MAGENTA_CONCRETE_POWDER", buyPrice: 50}, {id: "LIGHT_BLUE_CONCRETE_POWDER", buyPrice: 50}, {id: "YELLOW_CONCRETE_POWDER", buyPrice: 50}, {id: "LIME_CONCRETE_POWDER", buyPrice: 50}, {id: "PINK_CONCRETE_POWDER", buyPrice: 50}, {id: "GRAY_CONCRETE_POWDER", buyPrice: 50}, {id: "LIGHT_GRAY_CONCRETE_POWDER", buyPrice: 50}, {id: "CYAN_CONCRETE_POWDER", buyPrice: 50}, {id: "PURPLE_CONCRETE_POWDER", buyPrice: 50}, {id: "BLUE_CONCRETE_POWDER", buyPrice: 50}, {id: "BROWN_CONCRETE_POWDER", buyPrice: 50}, {id: "GREEN_CONCRETE_POWDER", buyPrice: 50}, {id: "RED_CONCRETE_POWDER", buyPrice: 50}, {id: "BLACK_CONCRETE_POWDER", buyPrice: 50}, {id: "WHITE_WOOL", buyPrice: 50}, {id: "ORANGE_WOOL", buyPrice: 50}, {id: "MAGENTA_WOOL", buyPrice: 50}, {id: "LIGHT_BLUE_WOOL", buyPrice: 50}, {id: "YELLOW_WOOL", buyPrice: 50}, {id: "LIME_WOOL", buyPrice: 50}, {id: "PINK_WOOL", buyPrice: 50}, {id: "GRAY_WOOL", buyPrice: 50}, {id: "LIGHT_GRAY_WOOL", buyPrice: 50}, {id: "PURPLE_WOOL", buyPrice: 50}, {id: "BLUE_WOOL", buyPrice: 50}, {id: "BROWN_WOOL", buyPrice: 50}, {id: "GREEN_WOOL", buyPrice: 50}, {id: "RED_WOOL", buyPrice: 50}, {id: "BLACK_WOOL", buyPrice: 50}, {id: "SEA_LANTERN", buyPrice: 50}, {id: "END_STONE", buyPrice: 50}, {id: "GLOWSTONE", buyPrice: 50}, {id: "QUARTZ_BLOCK", buyPrice: 50}, {id: "PRISMARINE", buyPrice: 50}, {id: "PRISMARINE_BRICKS", buyPrice: 50}, {id: "DARK_PRISMARINE", buyPrice: 50}, {id: "TERRACOTTA", buyPrice: 50}, {id: "SNOW_BLOCK", buyPrice: 20}, {id: "PACKED_ICE", buyPrice: 100}, {id: "BLUE_ICE", buyPrice: 100}, {id: "GLASS", buyPrice: 100}, {id: "BRICKS", buyPrice: 100}, {id: "IRON_BARS", buyPrice: 100}, {id: "FLOWER_POT", buyPrice: 100}, {id: "OAK_SLAB", buyPrice: 100}, {id: "SPRUCE_SLAB", buyPrice: 100}, {id: "BIRCH_SLAB", buyPrice: 100}, {id: "ACACIA_SLAB", buyPrice: 100}, {id: "JUNGLE_SLAB", buyPrice: 100}, {id: "DARK_OAK_SLAB", buyPrice: 100}, {id: "BRICK_SLAB", buyPrice: 100}, {id: "SMOOTH_STONE_SLAB", buyPrice: 100}, {id: "PRISMARINE_SLAB", buyPrice: 100}, {id: "DARK_PRISMARINE_SLAB", buyPrice: 100}, {id: "SANDSTONE_SLAB", buyPrice: 100}, {id: "RED_SANDSTONE_SLAB", buyPrice: 100}, {id: "OAK_STAIRS", buyPrice: 100}, {id: "SPRUCE_STAIRS", buyPrice: 100}, {id: "BIRCH_STAIRS", buyPrice: 100}, {id: "ACACIA_STAIRS", buyPrice: 100}, {id: "JUNGLE_STAIRS", buyPrice: 100}, {id: "DARK_OAK_STAIRS", buyPrice: 100}, {id: "BRICK_STAIRS", buyPrice: 100}, {id: "PRISMARINE_STAIRS", buyPrice: 100}, {id: "DARK_PRISMARINE_STAIRS", buyPrice: 100}, {id: "SANDSTONE_STAIRS", buyPrice: 100}, {id: "RED_SANDSTONE_STAIRS", buyPrice: 100}, {id: "OAK_DOOR", buyPrice: 100}, {id: "SPRUCE_DOOR", buyPrice: 100}, {id: "BIRCH_DOOR", buyPrice: 100}, {id: "ACACIA_DOOR", buyPrice: 100}, {id: "JUNGLE_DOOR", buyPrice: 100}, {id: "DARK_OAK_DOOR", buyPrice: 100}, {id: "OAK_FENCE", buyPrice: 100}, {id: "SPRUCE_FENCE", buyPrice: 100}, {id: "BIRCH_FENCE", buyPrice: 100}, {id: "ACACIA_FENCE", buyPrice: 100}, {id: "JUNGLE_FENCE", buyPrice: 100}, {id: "DARK_OAK_FENCE", buyPrice: 100}, {id: "OAK_FENCE_GATE", buyPrice: 100}, {id: "SPRUCE_FENCE_GATE", buyPrice: 100}, {id: "BIRCH_FENCE_GATE", buyPrice: 100}, {id: "ACACIA_FENCE_GATE", buyPrice: 100}, {id: "JUNGLE_FENCE_GATE", buyPrice: 100}, {id: "DARK_OAK_FENCE_GATE", buyPrice: 100}, {id: "OAK_TRAPDOOR", buyPrice: 100}, {id: "SPRUCE_TRAPDOOR", buyPrice: 100}, {id: "BIRCH_TRAPDOOR", buyPrice: 100}, {id: "ACACIA_TRAPDOOR", buyPrice: 100}, {id: "JUNGLE_TRAPDOOR", buyPrice: 100}, {id: "DARK_OAK_TRAPDOOR", buyPrice: 100}, {id: "OAK_SIGN", buyPrice: 100}, {id: "SPRUCE_SIGN", buyPrice: 100}, {id: "BIRCH_SIGN", buyPrice: 100}, {id: "ACACIA_SIGN", buyPrice: 100}, {id: "JUNGLE_SIGN", buyPrice: 100}, {id: "DARK_OAK_SIGN", buyPrice: 100}, {id: "WHITE_STAINED_GLASS", buyPrice: 50}, {id: "ORANGE_STAINED_GLASS", buyPrice: 50}, {id: "MAGENTA_STAINED_GLASS", buyPrice: 50}, {id: "LIGHT_BLUE_STAINED_GLASS", buyPrice: 50}, {id: "YELLOW_STAINED_GLASS", buyPrice: 50}, {id: "LIME_STAINED_GLASS", buyPrice: 50}, {id: "PINK_STAINED_GLASS", buyPrice: 50}, {id: "GRAY_STAINED_GLASS", buyPrice: 50}, {id: "LIGHT_GRAY_STAINED_GLASS", buyPrice: 50}, {id: "PURPLE_STAINED_GLASS", buyPrice: 50}, {id: "BLUE_STAINED_GLASS", buyPrice: 50}, {id: "BROWN_STAINED_GLASS", buyPrice: 50}, {id: "GREEN_STAINED_GLASS", buyPrice: 50}, {id: "RED_STAINED_GLASS", buyPrice: 50}, {id: "BLACK_STAINED_GLASS", buyPrice: 50}, {id: "WHITE_CARPET", buyPrice: 50}, {id: "ORANGE_CARPET", buyPrice: 50}, {id: "MAGENTA_CARPET", buyPrice: 50}, {id: "LIGHT_BLUE_CARPET", buyPrice: 50}, {id: "YELLOW_CARPET", buyPrice: 50}, {id: "LIME_CARPET", buyPrice: 50}, {id: "PINK_CARPET", buyPrice: 50}, {id: "GRAY_CARPET", buyPrice: 50}, {id: "LIGHT_GRAY_CARPET", buyPrice: 50}, {id: "PURPLE_CARPET", buyPrice: 50}, {id: "BLUE_CARPET", buyPrice: 50}, {id: "BROWN_CARPET", buyPrice: 50}, {id: "GREEN_CARPET", buyPrice: 50}, {id: "RED_CARPET", buyPrice: 50}, {id: "BLACK_CARPET", buyPrice: 50}, {id: "COBWEB", buyPrice: 50}, {id: "LADDER", buyPrice: 50}, {id: "LANTERN", buyPrice: 50}, {id: "REDSTONE_LAMP", buyPrice: 50}
          ]
        };

        const marketSectionsContainer = document.getElementById('market-sections');

        function formatItemName(id) {
            return id.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }

        function getItemImage(id) {
            // Exceptions for special item names
            const exceptions = {
                'HISTERITE_ORE': null,
                'RANDOM_ORE': null,
                'HISTERITE_BLOCK': null,
                'CHEST_FINDER': null,
                'FERTILIZED_DIRT': null,
                'HISTERITE_APPLE': null,
                'OBSIDIAN_BREAKER': null,
                'CHEST_EXPLORER': null
            };
            if (id in exceptions) {
                return `https://placehold.co/128x128/2c2c2c/e74c3c?text=${formatItemName(id).replace(/\s+/g, '+')}`;
            }
            // Using a public CDN for Minecraft item sprites
            return `https://raw.githubusercontent.com/oskar-anderson/minecraft-items/master/src/assets/${id.toLowerCase()}.png`;
        }
        
        for (const category in marketData) {
            const section = document.createElement('div');
            section.className = 'category-section';

            const title = document.createElement('h2');
            title.className = 'category-title';
            title.textContent = category;
            section.appendChild(title);

            const grid = document.createElement('div');
            grid.className = 'market-grid';
            
            marketData[category].forEach(item => {
                const card = document.createElement('div');
                card.className = 'item-card';

                const itemName = item.name || formatItemName(item.id);
                const itemImage = getItemImage(item.id);
                const newPrice = item.buyPrice - 1;

                card.innerHTML = `
                    <div class="item-image-container">
                        <img src="${itemImage}" alt="${itemName}" onerror="this.src='https://placehold.co/128x128/2c2c2c/e74c3c?text=Image+N/A'; this.onerror=null;">
                    </div>
                    <div class="item-info">
                        <h3>${itemName}</h3>
                        <div class="price-container">
                            <span class="original-price">${item.buyPrice}$</span>
                            <span class="new-price">${newPrice}$</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            section.appendChild(grid);
            marketSectionsContainer.appendChild(section);
        }

    </script>
</body>
</html>
